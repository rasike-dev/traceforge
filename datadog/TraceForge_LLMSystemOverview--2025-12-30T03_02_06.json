{"title":"TraceForge: LLM System Overview","description":"[[suggested_dashboards]]","widgets":[{"id":1620515364482722,"definition":{"title":"","title_size":"16","title_align":"left","type":"slo","slo_id":"60011f03051259448bf0fba86f1dea77","view_type":"detail","view_mode":"overall","time_windows":["7d","30d"],"show_error_budget":true},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":1223818231542788,"definition":{"title":"","title_size":"16","title_align":"left","type":"slo","slo_id":"9adaaa7e020352c88c0cebdcf208e11e","view_type":"detail","view_mode":"overall","time_windows":["7d","30d"],"show_error_budget":true},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":5499483529917082,"definition":{"title":"","title_size":"16","title_align":"left","type":"slo","slo_id":"1a770877954855079a5263ed3d504811","view_type":"detail","view_mode":"overall","time_windows":["7d","30d"],"show_error_budget":true},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":2590481433854598,"definition":{"title":"Request Volume (LLM Requests)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"sum:traceforge.request.count{service:traceforge-api}"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"min":"0"}},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":7396015424288569,"definition":{"title":"End-to-End Latency (P95) by Remediation","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"p95:traceforge.request.latency_ms{service:traceforge-api,env:dev} by {remediation}"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"min":"0"}},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":359963454383260,"definition":{"title":"LLM Token Usage per Request (avg)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"sum:traceforge.llm.tokens.input{*}.as_count()"},{"name":"query2","data_source":"metrics","query":"sum:traceforge.llm.tokens.input{*}.as_count()"},{"name":"query3","data_source":"metrics","query":"sum:traceforge.llm.tokens.input{*}.as_count()"}],"formulas":[{"formula":"(query1 + query2) / query3"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":5365618671475767,"definition":{"title":"Estimated LLM Cost (USD)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"sum:traceforge.llm.cost.usd{*}.as_count()"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":3196217259946490,"definition":{"title":"Estimated LLM Cost (USD) By Model","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"sum:traceforge.llm.cost.usd{*} by {llm_model}"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":299692648991121,"definition":{"title":"External Tool Errors","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:traceforge.tool.errors{!tool_name:none} by {tool_name}"}],"formulas":[{"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":8,"y":4,"width":4,"height":2}},{"id":5498803513670363,"definition":{"title":"Tool Call Latency (P95)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"name":"query1","data_source":"metrics","query":"p95:traceforge.tool.latency{!tool_name:none} by {tool_name}"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"millisecond"}},"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":1057733816923798,"definition":{"title":"Tool Error Rate (%)","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"sum:traceforge.tool.errors{!tool_name:none} by {tool_name}"},{"data_source":"metrics","name":"query2","query":"sum:traceforge.tool.calls{!tool_name:none} by {tool_name}"}],"formulas":[{"formula":"query1","number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}}},{"formula":"query2","number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}}},{"formula":"100 * (query1 / query2)","number_format":{"unit":{"type":"canonical_unit","unit_name":"percent"}}}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"min":"0"}},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":6645358968547280,"definition":{"title":"Endpoint Latency (P95) by Route","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"p95:traceforge.http.server.duration{*} by {http.route}.rollup(60)"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"millisecond"}},"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"min":"0"}},"layout":{"x":8,"y":6,"width":4,"height":2}},{"id":1155716581746851,"definition":{"title":"LLM Stage Latency (P95) by Stage","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:traceforge.llm.latency_ms{*} by {resource_name}"}],"formulas":[{"number_format":{"unit":{"type":"canonical_unit","unit_name":"millisecond"}},"formula":"query1"}],"style":{"palette":"dog_classic","order_by":"values","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"min":"0"}},"layout":{"x":0,"y":8,"width":4,"height":2}}],"template_variables":[],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed","pause_auto_refresh":false}